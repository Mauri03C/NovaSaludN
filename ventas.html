<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ventas - Nova Salud</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
</head>
<body>
  <!-- Navbar -->
  <header class="navbar navbar-expand-lg navbar-dark bg-primary px-4">
    <a class="navbar-brand" href="#">Nova Salud</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" href="panel.html">Panel</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="inventario.html">Inventario</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="ventas.html">Ventas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="pacientes.html">Clientes</a>
        </li>
      </ul>
      <span class="navbar-text me-3">Usuario: NS</span>
      <button class="btn btn-outline-light" onclick="logout()">Cerrar sesión</button>
    </div>
  </header>

  <!-- Formulario de Registro de Venta -->
  <div class="container py-4">
    <h1 class="mb-4">Registrar Venta</h1>

    <form action="ventas.html" method="POST">
      
      <!-- Sección para elegir cliente existente o agregar uno nuevo -->
      <div class="mb-3">
        <label for="clienteVenta" class="form-label">Cliente</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="clienteOption" id="clienteExistente" value="existente" checked>
          <label class="form-check-label" for="clienteExistente">
            Cliente Existente
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="clienteOption" id="nuevoCliente" value="nuevo">
          <label class="form-check-label" for="nuevoCliente">
            Nuevo Cliente
          </label>
        </div>
      </div>

      <!-- Selección de cliente existente -->
      <div class="mb-3" id="clienteExistenteDiv">
        <label for="clienteExistenteSelect" class="form-label">Seleccionar Cliente</label>
        <select class="form-control" id="clienteExistenteSelect" name="clienteVenta">
          <!-- Aquí se agregarían los clientes existentes desde la base de datos -->
          <option value="cliente1">Cliente 1</option>
          <option value="cliente2">Cliente 2</option>
          <option value="cliente3">Cliente 3</option>
        </select>
      </div>

      <!-- Formulario para agregar nuevo cliente -->
      <div class="mb-3" id="nuevoClienteDiv" style="display: none;">
        <label for="nuevoClienteNombre" class="form-label">Nombre del Cliente</label>
        <input type="text" class="form-control" id="nuevoClienteNombre" name="nuevoClienteNombre">

        <label for="nuevoClienteDni" class="form-label">DNI</label>
        <input type="text" class="form-control" id="nuevoClienteDni" name="nuevoClienteDni">

        <label for="nuevoClienteTelefono" class="form-label">Teléfono</label>
        <input type="text" class="form-control" id="nuevoClienteTelefono" name="nuevoClienteTelefono">
      </div>

      <!-- Producto de la Venta -->
      <div class="mb-3">
        <label for="productoVenta" class="form-label">Producto</label>
        <select class="form-control" id="productoVenta" name="productoVenta" required>
          <!-- Aquí se agregarían los productos desde la base de datos -->
          <option value="producto1">Producto 1</option>
          <option value="producto2">Producto 2</option>
          <option value="producto3">Producto 3</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="cantidadVenta" class="form-label">Cantidad</label>
        <input type="number" class="form-control" id="cantidadVenta" name="cantidadVenta" required>
      </div>
      <div class="mb-3">
        <label for="precioVenta" class="form-label">Precio</label>
        <input type="number" class="form-control" id="precioVenta" name="precioVenta" required>
      </div>
      
      <button type="submit" class="btn btn-success">Registrar Venta</button>
    </form>
  </div>

  <script>
    // Cambiar entre cliente existente y nuevo cliente
    document.getElementById('clienteExistente').addEventListener('change', function() {
      document.getElementById('clienteExistenteDiv').style.display = 'block';
      document.getElementById('nuevoClienteDiv').style.display = 'none';
    });

    document.getElementById('nuevoCliente').addEventListener('change', function() {
      document.getElementById('clienteExistenteDiv').style.display = 'none';
      document.getElementById('nuevoClienteDiv').style.display = 'block';
    });
  </script>

</body>
</html>
